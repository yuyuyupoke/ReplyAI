# Agent Memory Skill

Claude Codeがプロジェクトに関する重要な情報を記憶・想起するためのスキルです。

## 使い方

### 記憶を保存する

「これを覚えておいて」「記憶して」などの発話をすると、Claude Codeが自動的に記憶を保存します。

**例:**
```
ユーザー: 「月間売上目標は100万円って決めたこと、覚えておいて」
Claude: 記憶しました!
```

### 記憶を想起する

「思い出して」「覚えてる?」などの発話で、関連する記憶を検索します。

**例:**
```
ユーザー: 「売上目標、何だっけ?」
Claude: 思い出しました! 月間売上目標は100万円です (2026-01-09に記録)
```

### 記憶一覧を表示

「何を覚えてる?」「メモリーを見せて」で、全ての記憶を一覧表示します。

**例:**
```
ユーザー: 「今まで何を記憶してる?」
Claude: 以下の記憶があります:
- 2026-01-09: 月間売上目標 (¥1,000,000)
- 2026-01-09: AI context tracking workflow implementation
- 2026-01-08: Supabase Auth + Gemini API tech stack decision
```

### 記憶を削除

「〜を忘れて」「記憶を削除」で、不要な記憶を削除できます。

**例:**
```
ユーザー: 「テスト用のメモは忘れて」
Claude: 削除しました!
```

## ファイル構造

```
.claude/skills/agent-memory/
├── SKILL.md          # スキル定義 (Claude Codeが読む)
├── README.md         # このファイル (人間用ドキュメント)
├── .gitignore        # memories/ をgit追跡から除外
└── memories/         # 記憶を保存するディレクトリ
    ├── 2026-01-09-revenue-goal.md
    ├── 2026-01-09-workflow-implementation.md
    └── ...
```

## 記憶ファイルのフォーマット

各記憶は以下の形式で保存されます:

```markdown
---
summary: 簡潔な要約（1行）
tags: [business, goal, revenue]
created: 2026-01-09T12:30:00Z
---

# 月間売上目標

プロジェクトの目標として、月間売上¥1,000,000を設定しました。

## 背景
- 持続可能な開発体制を構築するため
- Elenaさんのプロジェクトとの並行運用を考慮

## アクションプラン
- ユーザー獲得施策
- 機能改善によるリテンション向上
```

## タグ一覧

- `business` - ビジネス目標、戦略
- `technical` - 技術仕様、アーキテクチャ
- `feature-request` - 機能リクエスト
- `bug` - バグ報告
- `decision` - 重要な意思決定
- `reminder` - リマインダー
- `research` - 調査結果
- `meeting` - ミーティングメモ

## 注意事項

- **機密情報は記憶しない**: パスワード、APIキーなどは保存しない
- **個人用途のみ**: `memories/` は `.gitignore` で除外されているため、gitには含まれません
- **チーム共有は別途**: チーム全体で共有したい情報は `documents/` に記録してください

## プロジェクト固有のユースケース

### ReplyAIプロジェクトで記憶すると便利なこと

1. **ビジネス目標**
   - 月間売上目標
   - ユーザー獲得目標
   - エンゲージメント指標

2. **技術的な決定**
   - 「Supabase Authを使う理由」
   - 「Gemini 2.5 Flash Liteを選んだ理由」
   - 「Dev mode firstポリシー」

3. **ユーザーフィードバック**
   - 「この機能が欲しい」というリクエスト
   - 「このUIがわかりづらい」という報告

4. **バグ情報**
   - 再現手順
   - 暫定対応
   - 根本原因

5. **APIクォータ管理**
   - YouTube API: 10,000 units/日
   - Gemini API: 使用量の推移

6. **開発メモ**
   - 「後で実装したい機能」
   - 「リファクタリングの候補」

## 実装詳細 (開発者向け)

### Claude Codeの動作

1. ユーザーの発話からトリガーを検知
2. SKILL.mdを参照して適切な操作を実行
3. Glob/Grep/Read/Write/Bash toolsを使って記憶を操作

### 段階的開示パターン

効率的にメモリーを検索するため、以下の順序で実行:

1. **Grep** で `summary:` を検索 → 概要把握
2. 必要なファイルのみ **Read** → 詳細取得

これにより、トークン使用量を最小化します。

## FAQ

### Q: 記憶の上限はありますか?

A: ファイルシステムの制限のみです。ただし、あまりに多すぎると検索が遅くなるため、重要な情報のみを記憶することを推奨します。

### Q: Gitで追跡されますか?

A: いいえ。`.gitignore` で除外されているため、個人の環境にのみ保存されます。

### Q: チームメンバーと共有できますか?

A: `memories/` は個人用です。チーム共有したい場合は `documents/` に別途ドキュメントを作成してください。

### Q: 記憶を検索できますか?

A: はい。Claude Codeが自動的にキーワード検索を行います。また、タグでの絞り込みも可能です。

## 関連リソース

- [SKILL.md](./SKILL.md) - スキル定義 (AI用)
- [AI Context Workflow](../../documents/ai_context_workflow.md) - Git履歴追跡システム
- [Development Policy](../../documents/development_policy.md) - 開発ポリシー

---

**実装日**: 2026-01-09
**バージョン**: 1.0
